generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "sqlite"
    url      = env("DATABASE_URL")
}

model Books {
    id Int            @id @default(autoincrement())
    title String
    url String
    cover String?
    author Authors @relation(fields: [author_id], references: id)
    author_id Int
    publisher Publishers? @relation(fields: [publisher_id], references: id)
    publisher_id Int?
    published_at DateTime?
    registered_at DateTime @default(now())
    categories Tags[] 
    pages_count Int?
}

model Authors {
    id Int          @id @default(autoincrement())
    name String
    profile String?
    about String?
    contact String?
    books Books[]
    registered_at DateTime @default(now())
}

model Publishers {
    id Int          @id @default(autoincrement())
    name String
    homepage String?
    origin String?
    logo String?
    books Books[]
    registered_at DateTime
}

model Tags {
    name String
    book Books @relation(fields: book_id, references: id)
    book_id Int

    @@id([name, book_id])
}
